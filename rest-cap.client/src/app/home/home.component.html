<div class="container">
  <h1 class="title">Home Page</h1>

  <!-- Search Input Field -->
  <div class="search-container">
    <input type="text"
           placeholder="Search users..."
           [(ngModel)]="searchQuery"
           (ngModelChange)="onSearch()"
           class="search-input" />
  </div>

  <!-- Display Filtered Users -->
  <div *ngIf="users$ | async as users; else loading" class="user-container">
    <ng-container *ngIf="users.length > 0; else noUsers">
      <h2 class="subtitle">User List</h2>
      <ul class="user-list">
        <li *ngFor="let user of users" class="user-item">
          <div class="user-info">
            <span class="user-name">{{ user.userName }}</span>
            <span class="email">{{ user.email }}</span>
            <span class="user-date">Created At: {{ user.createdAt | date:'short' }}</span>
          </div>
        </li>
      </ul>
    </ng-container>
    <ng-template #noUsers>
      <p class="no-users-message">No users found.</p>
    </ng-template>
  </div>

  <!-- Pagination Controls -->
  <div class="pagination-controls">
    <button (click)="onPageChange(page - 1)" [disabled]="page === 1">Previous</button>
    <span>Page {{ page }} of {{ totalPages$ | async }}</span>
    <button (click)="onPageChange(page + 1)" [disabled]="page === (totalPages$ | async)">Next</button>

    <!-- Page Number Input Field -->
    <div class="page-input-container">
      <input type="number"
             [(ngModel)]="inputPage"
             (ngModelChange)="onPageNumberChange($event)"
             min="1"
             [max]="totalPages$ | async"
             class="page-input"
             placeholder="Go to page" />
    </div>
  </div>

  <ng-template #loading>
    <div class="loading">
      <p>Loading...</p>
    </div>
  </ng-template>
</div>
